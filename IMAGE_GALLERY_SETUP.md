# ุฏููู ุฅุนุฏุงุฏ ูุนุฑุถ ุงูุตูุฑ

## ุงููุดููุฉ
ุนูุฏ ูุญุงููุฉ ุฑูุน ุงูุตูุฑ ูู ูุนุฑุถ ุงูุตูุฑุ ุชุธูุฑ ุฑุณุงูุฉ ุงูุฎุทุฃ:
```json
{"statusCode":"404","error":"Bucket not found","message":"Bucket not found"}
```

## ุงูุญู

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก Bucket ูู Supabase Storage

1. **ุงุฐูุจ ุฅูู ููุญุฉ ุชุญูู Supabase:**
   - ุงูุชุญ ูุดุฑูุนู ูู [Supabase Dashboard](https://supabase.com/dashboard)
   - ูู ุงูุดุฑูุท ุงูุฌุงูุจูุ ุงุฎุชุฑ **Storage**

2. **ุฅูุดุงุก Bucket ุฌุฏูุฏ:**
   - ุงุถุบุท ุนูู **"Create bucket"**
   - ุฃุฏุฎู ุงูุงุณู: `images`
   - ูุนู ุฎูุงุฑ **"Public bucket"** (ููู ูุนุฑุถ ุงูุตูุฑ)
   - ุงุถุบุท **"Create bucket"**

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ุงูุฃุฐููุงุช (Policies)

ุจุนุฏ ุฅูุดุงุก ุงูู bucketุ ุฃุถู ุงูุฃุฐููุงุช ุงูุชุงููุฉ:

#### Policy 1: ุงูุณูุงุญ ุจุนุฑุถ ุงูุตูุฑ ููุฌููุน
```sql
-- Allow public access to view images
CREATE POLICY "Images are publicly accessible" ON storage.objects
  FOR SELECT USING (bucket_id = 'images');
```

#### Policy 2: ุงูุณูุงุญ ูููุณุชุฎุฏููู ุงููุณุฌููู ุจุฑูุน ุงูุตูุฑ
```sql
-- Allow authenticated users to upload images
CREATE POLICY "Users can upload images" ON storage.objects
  FOR INSERT WITH CHECK (
    bucket_id = 'images' AND
    auth.role() = 'authenticated'
  );
```

#### Policy 3: ุงูุณูุงุญ ูููุณุชุฎุฏููู ุจุญุฐู ุตูุฑูู
```sql
-- Allow users to delete their own images
CREATE POLICY "Users can delete their own images" ON storage.objects
  FOR DELETE USING (
    bucket_id = 'images' AND
    auth.uid()::text = (storage.foldername(name))[1]
  );
```

### ุงูุฎุทูุฉ 3: ุชุดุบูู Migration ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุชุฃูุฏ ูู ุชุดุบูู migration ุฌุฏูู ุงูุตูุฑ:

```sql
-- File: supabase/migrations/20250909121200_create_gallery_images_table.sql
-- This creates the gallery_images table in your database
```

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ูุนุฑุถ ุงูุตูุฑ

1. **ุงุฐูุจ ุฅูู ุตูุญุฉ ูุนุฑุถ ุงูุตูุฑ** ูู ุงูุชุทุจูู
2. **ุงุถุบุท ุนูู "ุฑูุน ุตูุฑุฉ ุฌุฏูุฏุฉ"**
3. **ุฃุฏุฎู ุงูุนููุงู ูุงููุตู**
4. **ุงุฎุชุฑ ุตูุฑุฉ ูู ุฌูุงุฒู**
5. **ุงุถุบุท "ุฑูุน ุงูุตูุฑุฉ"**

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: "Bucket not found"
- ุชุฃูุฏ ูู ุฅูุดุงุก bucket ุจุงุณู `images` ุจุงูุถุจุท
- ุชุฃูุฏ ูู ุฃูู ุนุงู (public)

### ุฎุทุฃ: "Access denied"
- ุชุญูู ูู ุงูุฃุฐููุงุช (Policies)
- ุชุฃูุฏ ูู ุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏู

### ุฎุทุฃ: "Table gallery_images does not exist"
- ุชุฃูุฏ ูู ุชุดุบูู migration ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุญูู ูู ูุฌูุฏ ุงูุฌุฏูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงูููุฒุงุช ุงููุชุงุญุฉ

### ูููุณุชุฎุฏููู ุงูุนุงุฏููู:
- โ ุนุฑุถ ุฌููุน ุงูุตูุฑ ูู ุงููุนุฑุถ
- โ ุนุฑุถ ุงูุตูุฑ ุจุญุฌู ูุงูู
- โ ุทุจุงุนุฉ ุงููุนุฑุถ

### ูููุฏุฑุงุก ูุงูุฅุฏุงุฑููู:
- โ ุฑูุน ุตูุฑ ุฌุฏูุฏุฉ
- โ ุฅุถุงูุฉ ุนูุงููู ูุฃูุตุงู ููุตูุฑ
- โ ุญุฐู ุงูุตูุฑ
- โ ุฅุฏุงุฑุฉ ูุนุฑุถ ุงูุตูุฑ ุจุงููุงูู

## ูููู ุชุฎุฒูู ุงูุตูุฑ

```
images/
โโโ gallery/
โ   โโโ 1694271234567.jpg
โ   โโโ 1694271234568.png
โ   โโโ 1694271234569.jpeg
```

## ุงูุฃูุงู

- โ ูู ุตูุฑุฉ ูุฑุชุจุทุฉ ุจุดุฑูุฉ ูุญุฏุฏุฉ
- โ ุงููุณุชุฎุฏููู ูุฑูู ุตูุฑ ุดุฑูุชูู ููุท
- โ ุฃุฐููุงุช ูุญููุฉ ููุฑูุน ูุงูุญุฐู
- โ ุญูุงูุฉ ูู ุงููุตูู ุบูุฑ ุงููุตุฑุญ

## ุงูุฏุนู ุงูููู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู logs ุงููุชุตูุญ (F12 โ Console)
2. ุชุฃูุฏ ูู ุฅุนุฏุงุฏ Supabase ุจุดูู ุตุญูุญ
3. ุชุญูู ูู ุงูุฃุฐููุงุช ูู ููุญุฉ Supabase
4. ุชุฃูุฏ ูู ูุฌูุฏ ุฌุฏูู `gallery_images`

---

**ุชู ุฅุนุฏุงุฏ ูุนุฑุถ ุงูุตูุฑ ุจูุฌุงุญ! ๐**